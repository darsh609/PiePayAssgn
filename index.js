
// Request URL
    // https://1.sonic.fdp.api.flipkart.com/4/data/collector/business
//



//https://www.flipkart.com/payments?token=PN2512052156158dd787b44b0cf5e5c555902ee2870d150c012001023193545180d9a8f027a75c731dd4f274dd13dd059807fb08d37a146aeb3c3fd7583c8de16df5842b5b0ae11_v3_1
/////////////////////////////
// "paymentOptions": {
//                     "items": [{
//                         "type": "OFFER_LIST",
//                         "data": {
//                             "offerSummary": {
//                                 "title": "10% instant discount",
//                                 "subTitle": "Claim now with payment offers",
//                                 "iconsInfo": {
//                                     "remainingOffersCount": 3,
//                                     "icons": ["/FK_STATIC_ASSET/fk-p-linchpin-web/fk-gringotts/images/banks/generic_bank.svg", "https://static-assets-web.flixcart.com/apex-static/images/payments/upi/paytm-logo.svg"]
//                                 }
//                             },
//                             "offers": {
//                                 "headerTitle": "Offers on online payment",
//                                 "offerList": [{
//                                     "provider": [],
//                                     "logo": "/FK_STATIC_ASSET/fk-p-linchpin-web/fk-gringotts/images/banks/generic_bank.svg",
//                                     "offerText": {
//                                         "text": "Get ₹15 cashback"
//                                     },
//                                     "offerDescription": {
//                                         "type": "tenure.detail.offer.terms.conditions",
//                                         "tncText": "Terms and conditions",
//                                         "id": "FPO251128153220CWNA9",
//                                         "text": "Flat ₹15 Cashback on MobiKwik UPI Transaction. Min Order Value ₹499. Offer Valid Once Per User"
//                                     }
//                                 }, {
//                                     "provider": [],
//                                     "logo": "https://static-assets-web.flixcart.com/apex-static/images/payments/upi/paytm-logo.svg",
//                                     "offerText": {
//                                         "text": "Get ₹10 cashback"
//                                     },
//                                     "offerDescription": {
//                                         "type": "tenure.detail.offer.terms.conditions",
//                                         "tncText": "Terms and conditions",
//                                         "id": "FPO2512041835171GNZ7",
//                                         "text": "Flat ₹10 Cashback on Paytm UPI payments. Min Order Value ₹99. Valid once per Paytm account"
//                                     }
//                                 }, {
//                                     "provider": [],
//                                     "logo": "/FK_STATIC_ASSET/fk-p-linchpin-web/fk-gringotts/images/green-offer-tag.svg",
//                                     "offerText": {
//                                         "text": "Get ₹50 cashback"
//                                     },
//                                     "offerDescription": {
//                                         "type": "tenure.detail.offer.terms.conditions",
//                                         "tncText": "Terms and conditions",
//                                         "id": "FPO251128181820XE8LC",
//                                         "text": "Up To ₹50 Cashback on BHIM Payments App. Min Order Value ₹199. Offer Valid Once Per User"
//                                     }
//                                 }, {
//                                     "provider": ["SBI", "FLIPKARTSBI"],
//                                     "logo": "/FK_STATIC_ASSET/fk-p-linchpin-web/fk-gringotts/images/green-offer-tag.svg",
//                                     "offerText": {
//                                         "text": "Save ₹1,000"
//                                     },
//                                     "offerDescription": {
//                                         "type": "tenure.detail.offer.terms.conditions",
//                                         "tncText": "Terms and conditions",
//                                         "id": "FPO2512021741591ZHIA",
//                                         "text": "10% off up to ₹1,000 on SBI Credit Card EMI Transactions of ₹4,990 and above"
//                                     }
//                                 }, {
//                                     "provider": ["SBI"],
//                                     "logo": "/FK_STATIC_ASSET/fk-p-linchpin-web/fk-gringotts/images/banks/SBI.svg",
//                                     "offerText": {
//                                         "text": "Save ₹750"
//                                     },
//                                     "offerDescription": {
//                                         "type": "tenure.detail.offer.terms.conditions",
//                                         "tncText": "Terms and conditions",
//                                         "id": "FPO251202173727AX8RQ",
//                                         "text": "10% off up to ₹750 on SBI Credit Card Transactions of ₹4,990 and above"
//                                     }
//                                 }, {
//                                     "provider": ["FLIPKARTBAJAJFINSERV"],
//                                     "logo": "/FK_STATIC_ASSET/apex-static/images/payments/banks/BFL_V3.svg",
//                                     "offerText": {
//                                         "text": "Save ₹100"
//                                     },
//                                     "offerDescription": {
//                                         "type": "tenure.detail.offer.terms.conditions",
//                                         "tncText": "Terms and conditions",
//                                         "id": "FPO251003233042PW3P9",
//                                         "text": "Flat ₹100 off on Flipkart Bajaj Finserv Insta EMI Card. Min Booking Amount: ₹7,500"
//                                     }
//                                 }, {
//                                     "provider": ["FLIPKARTAXISBANK"],
//                                     "logo": "/FK_STATIC_ASSET/fk-p-linchpin-web/fk-gringotts/images/banks/AXIS.svg",
//                                     "offerText": {
//                                         "text": "Get 5% cashback"
//                                     },
//                                     "offerDescription": {
//                                         "type": "tenure.detail.offer.terms.conditions",
//                                         "tncText": "Terms and conditions",
//                                         "id": "FPO2509161258586WXGR",
//                                         "text": "5% cashback on Flipkart Axis Bank Credit Card upto ₹4,000 per statement quarter"
//                                     }
//                                 }, {
//                                     "provider": ["FLIPKARTSBI"],
//                                     "logo": "/FK_STATIC_ASSET/fk-p-linchpin-web/fk-gringotts/images/banks/SBI.svg",
//                                     "offerText": {
//                                         "text": "Get 5% cashback"
//                                     },
//                                     "offerDescription": {
//                                         "type": "tenure.detail.offer.terms.conditions",
//                                         "tncText": "Terms and conditions",
//                                         "id": "FPO251103123615YLG67",
//                                         "text": "5% cashback on Flipkart SBI Credit Card upto ₹4,000 per calendar quarter"
//                                     }
//                                 }, {
//                                     "provider": ["ICICI"],
//                                     "logo": "/FK_STATIC_ASSET/fk-p-linchpin-web/fk-gringotts/images/banks/ICICI.svg",
//                                     "offerText": {
//                                         "text": "Save ₹1,250"
//                                     },
//                                     "offerDescription": {
//                                         "type": "tenure.detail.offer.terms.conditions",
//                                         "tncText": "Terms and conditions",
//                                         "id": "FPO251121183502WIYOE",
//                                         "text": "10% off on ICICI Credit Card EMI Transactions, up to ₹1250 on orders of ₹9,990 and above"
//                                     }
//                                 }, {
//                                     "provider": ["HDFC"],
//                                     "logo": "/FK_STATIC_ASSET/fk-p-linchpin-web/fk-gringotts/images/banks/HDFC.svg",
//                                     "offerText": {
//                                         "text": "Save ₹750"
//                                     },
//                                     "offerDescription": {
//                                         "type": "tenure.detail.offer.terms.conditions",
//                                         "tncText": "Terms and conditions",
//                                         "id": "FPO251129151010Y58HZ",
//                                         "text": "10% Off Up to ₹750 on HDFC Bank Credit Card EMI on 6 months and above tenure . Min. Txn Value: ₹4990"
//                                     }
//                                 }, {
//                                     "provider": ["FLIPKARTBAJAJFINSERV"],
//                                     "logo": "/FK_STATIC_ASSET/apex-static/images/payments/banks/BFL_V3.svg",
//                                     "offerText": {
//                                         "text": "Save ₹50"
//                                     },
//                                     "offerDescription": {
//                                         "type": "tenure.detail.offer.terms.conditions",
//                                         "tncText": "Terms and conditions",
//                                         "id": "FPO2510032323329BAXV",
//                                         "text": "Flat ₹50 off on Flipkart Bajaj Finserv Insta EMI Card. Min Booking Amount: ₹2,500"
//                                     }
//                                 }, {
//                                     "provider": ["FLIPKARTAXISBANK"],
//                                     "logo": "/FK_STATIC_ASSET/fk-p-linchpin-web/fk-gringotts/images/banks/AXIS.svg",
//                                     "offerText": {
//                                         "text": "Get 5% cashback"
//                                     },
//                                     "offerDescription": {
//                                         "type": "tenure.detail.offer.terms.conditions",
//                                         "tncText": "Terms and conditions",
//                                         "id": "FPO251202142455KPD9T",
//                                         "text": "5% cashback on Axis Bank Flipkart Debit Card up to ₹750"
//                                     }
//                                 }],
//                                 "filterList": [{
//                                     "title": "All Offers",
//                                     "type": "provider",
//                                     "value": "ALL"
//                                 }, {
//                                     "logo": "/FK_STATIC_ASSET/fk-p-linchpin-web/fk-gringotts/images/banks/SBI.svg",
//                                     "title": "State Bank of India",
//                                     "type": "provider",
//                                     "value": "SBI"
//                                 }, {
//                                     "logo": "/FK_STATIC_ASSET/fk-p-linchpin-web/fk-gringotts/images/banks/SBI.svg",
//                                     "title": " Flipkart SBI Credit Card",
//                                     "type": "provider",
//                                     "value": "FLIPKARTSBI"
//                                 }, {
//                                     "logo": "/FK_STATIC_ASSET/apex-static/images/payments/banks/BFL_V3.svg",
//                                     "title": "Flipkart Bajaj Finserv",
//                                     "type": "provider",
//                                     "value": "FLIPKARTBAJAJFINSERV"
//                                 }, {
//                                     "logo": "/FK_STATIC_ASSET/fk-p-linchpin-web/fk-gringotts/images/banks/AXIS.svg",
//                                     "title": "Flipkart Axis Bank",
//                                     "type": "provider",
//                                     "value": "FLIPKARTAXISBANK"
//                                 }, {
//                                     "logo": "/FK_STATIC_ASSET/fk-p-linchpin-web/fk-gringotts/images/banks/ICICI.svg",
//                                     "title": "ICICI Bank",
//                                     "type": "provider",
//                                     "value": "ICICI"
//                                 }, {
//                                     "logo": "/FK_STATIC_ASSET/fk-p-linchpin-web/fk-gringotts/images/banks/HDFC.svg",
//                                     "title": "HDFC Bank",
//                                     "type": "provider",
//                                     "value": "HDFC"
//                                 }]
//                             }
//                         },
//                         "section": "RIGHT",
//                         "subSection": null,
//                         "stickOnlyOnDesktop": true
//                     },
/////
///////////
//mongodb+srv://darshkumar0609_db_user:NUvvlxI71kKrRxNQ@cluster0.sz0h28s.mongodb.net/

const dotenv = require("dotenv");
dotenv.config();
const express = require('express');
const mongoose = require('mongoose');
const crypto = require('crypto');

const offerRoutes = require("./routes/offer.routes");
const discountRoutes = require("./routes/discount.routes");

const app = express();
app.use(express.json({ limit: '15mb' }));

const PORT = process.env.PORT || 3000;
const MONGO = process.env.MONGO_URI

mongoose.connect(MONGO)
  .then(() => app.listen(PORT, () => console.log(`Server running on ${PORT}`)))
  .catch(err => {
    console.error('mongo connect failed', err);
    process.exit(1);
  });


//   const app = express();
// app.use(bodyParser.json());

// mongoose.connect("mongodb://localhost:27017/pipay");

app.use("/", offerRoutes);
app.use("/", discountRoutes);